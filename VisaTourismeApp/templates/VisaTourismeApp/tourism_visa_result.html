{% extends "base.html" %}
{% load static %}

{% block title %}
RÃ©sultat Analyse Visa Tourisme | Immigration97
{% endblock %}

{% block meta_description %}
Analyse complÃ¨te de votre dossier de visa tourisme :
score de chances, risques, documents requis et plan dâ€™action personnalisÃ©.
{% endblock %}

{% block body_class %}visa-tourisme{% endblock %}
{% block app_scope %}visa-tourisme{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/visa_tourisme.css' %}">
{% endblock %}

{% block content %}

<!-- ================= HERO RESULTAT ================= -->
<section class="vtm-hero">

  <span class="vtm-step">RÃ©sultat de lâ€™analyse</span>

  <h1 class="vtm-title">
    Analyse de ton <span class="vtm-gradient-primary">dossier visa</span>
  </h1>

  <p class="vtm-subtitle">
    Voici une estimation rÃ©aliste basÃ©e sur les informations fournies.
    Cette analyse tâ€™aide Ã  comprendre tes chances et Ã  amÃ©liorer ton dossier.
  </p>

</section>

<!-- ================= SCORE ================= -->
<section class="vtm-card vtm-score-card">

  <div class="vtm-score-wrapper">

    <div class="vtm-score-circle
      {% if result.score_chances >= 80 %}is-good
      {% elif result.score_chances >= 60 %}is-medium
      {% else %}is-bad{% endif %}">
      <span class="vtm-score-value">{{ result.score_chances }}%</span>
      <span class="vtm-score-label">Chances estimÃ©es</span>
    </div>

    <div class="vtm-score-text">
      <h2 class="vtm-risk-level">
        {{ result.niveau_risque }}
      </h2>
      <p class="vtm-subtle">
        Destination : <strong>{{ result.get_destination_display }}</strong><br>
        DurÃ©e du sÃ©jour : {{ result.get_duree_sejour_display }}
      </p>
    </div>

  </div>

  <div class="vtm-actions mt-lg">
    <a href="{% url 'visa_tourisme:pdf' result.id %}" class="vtm-btn-secondary">
      ğŸ“„ TÃ©lÃ©charger le plan PDF
    </a>
    <a href="{% url 'visa_tourisme:coach' %}?id={{ result.id }}"
       class="vtm-btn-primary">
      ğŸ¤ Parler au Coach Visa
    </a>
  </div>

</section>

<!-- ================= POINTS FORTS / FAIBLES ================= -->
<section class="vtm-grid-2">

  <div class="vtm-card">
    <h3 class="vtm-section-title">âœ… Points forts</h3>
    <ul class="vtm-list">
      {% for pf in result.points_forts_list %}
        <li>{{ pf }}</li>
      {% empty %}
        <li>Aucun point fort identifiÃ©.</li>
      {% endfor %}
    </ul>
  </div>

  <div class="vtm-card">
    <h3 class="vtm-section-title">âš ï¸ Points Ã  renforcer</h3>
    <ul class="vtm-list">
      {% for pr in result.points_faibles_list %}
        <li>{{ pr }}</li>
      {% empty %}
        <li>Aucun point critique dÃ©tectÃ©.</li>
      {% endfor %}
    </ul>
  </div>

</section>

<!-- ================= DOCUMENTS ================= -->
<section class="vtm-card">
  <h3 class="vtm-section-title">ğŸ“‚ Documents Ã  prÃ©parer</h3>
  <ul class="vtm-list">
    {% for d in result.documents_list %}
      <li>{{ d }}</li>
    {% endfor %}
  </ul>
</section>

<!-- ================= ETAPES ================= -->
<section class="vtm-card">
  <h3 class="vtm-section-title">ğŸ§­ Ã‰tapes clÃ©s</h3>
  <ol class="vtm-list">
    {% for e in result.etapes_list %}
      <li>{{ e }}</li>
    {% endfor %}
  </ol>
</section>

<!-- ================= CONSEILS ================= -->
<section class="vtm-card">
  <h3 class="vtm-section-title">ğŸ’¡ Conseils stratÃ©giques</h3>
  <ul class="vtm-list">
    {% for c in result.conseils_list %}
      <li>{{ c }}</li>
    {% endfor %}
  </ul>
</section>

<div class="vtm-footer-note">
  Cette analyse est une aide Ã  la prÃ©paration.
  La dÃ©cision finale appartient exclusivement Ã  lâ€™ambassade ou au consulat.
</div>

{% endblock %}
