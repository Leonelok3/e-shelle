{% extends "base.html" %}
{% load static %}

{% block body_class %}cv-generator cv-step-personal{% endblock %}
{% block app_scope %}cv-generator{% endblock %}

{% block title %}Cr√©er un CV professionnel - Informations personnelles | G√©n√©rateur CV Canada Europe | Immigration97{% endblock %}

{% block meta_description %}
Cr√©ez votre CV professionnel pour le Canada, l'Europe et l'international. G√©n√©rateur de CV conforme aux standards ATS. √âtape 1 : Renseignez vos informations personnelles pour un CV optimis√© immigration, emploi et recrutement.
{% endblock %}

{% block meta_keywords %}
CV professionnel Canada, cr√©er CV immigration, g√©n√©rateur CV ATS, CV Europass, CV moderne gratuit, template CV international, CV pour l'emploi Canada, CV conformes standards RH, optimisation CV recrutement, CV multilingue fran√ßais anglais
{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "G√©n√©rateur de CV professionnel Immigration97",
  "description": "Cr√©ez un CV professionnel conforme aux standards internationaux (Canada, Europe, International) avec notre g√©n√©rateur intelligent",
  "applicationCategory": "BusinessApplication",
  "operatingSystem": "Web",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "EUR"
  },
  "featureList": [
    "G√©n√©ration CV Canada ATS-friendly",
    "Template CV Europass Europe",
    "CV multilingue (Fran√ßais, Anglais, Allemand, Espagnol, Italien)",
    "Optimisation mots-cl√©s recrutement",
    "Export PDF professionnel"
  ]
}
</script>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/cv_generator.css' %}">
{% endblock %}

{% block content %}

<!-- ================= BREADCRUMB SEO ================= -->
<nav class="cv-breadcrumb" aria-label="Fil d'Ariane" itemscope itemtype="https://schema.org/BreadcrumbList">
  <ol>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="{% url 'cv_generator:index' %}">
        <span itemprop="name">Accueil G√©n√©rateur CV</span>
      </a>
      <meta itemprop="position" content="1" />
    </li>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="{% url 'cv_generator:cv_list' %}">
        <span itemprop="name">Mes CV</span>
      </a>
      <meta itemprop="position" content="2" />
    </li>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <span itemprop="name">√âtape 1 - Informations personnelles</span>
      <meta itemprop="position" content="3" />
    </li>
  </ol>
</nav>

<!-- ================= MAIN SECTION ================= -->
<section class="cv-step-box" itemscope itemtype="https://schema.org/CreativeWork">

  <!-- ================= HEADER SEO-OPTIMIZED ================= -->
  <header class="cv-step-header">
    <h1 class="cv-step-title" itemprop="headline">
      √âtape 1 ‚Äî Cr√©er votre CV professionnel : Informations personnelles
    </h1>

    <p class="cv-step-help" itemprop="description">
      Renseignez vos <strong>informations de contact</strong> pour g√©n√©rer un
      <strong>CV professionnel conforme aux standards internationaux</strong> :
      <em>CV Canada ATS-friendly</em>, <em>CV Europass Europe</em>, et
      <em>CV moderne international</em>. Optimis√© pour l'<strong>immigration</strong>,
      le <strong>recrutement</strong> et l'<strong>emploi √† l'√©tranger</strong>.
    </p>
  </header>

  <!-- ================= IMPORT CV - SEO ================= -->
  <aside class="cv-alert info" role="complementary" aria-label="Option d'import de CV existant">
    <p>
      üí° <strong>Vous avez d√©j√† un CV ?</strong>
      Importez votre CV existant (PDF, Word) pour <strong>pr√©remplir automatiquement</strong>
      vos informations et gagner du temps. Compatible avec les CV canadiens, europ√©ens et internationaux.
    </p>
  </aside>

  <a href="{% url 'cv_generator:upload_cv' cv.id %}"
     class="cv-btn-secondary cv-import-btn"
     aria-label="Importer un CV existant au format PDF ou Word">
    üìÑ Importer un CV existant (PDF / Word)
  </a>

  <!-- ================= FORMULAIRE PRINCIPAL ================= -->
  <form method="post" 
        action="{% url 'cv_generator:create_cv' cv.id %}"
        class="cv-step-form"
        aria-label="Formulaire de cr√©ation de CV - √âtape 1"
        novalidate>
    
    {% csrf_token %}

    <!-- Messages d'erreur globaux -->
    {% if form.non_field_errors %}
      <div class="cv-alert error" role="alert">
        <ul>
          {% for error in form.non_field_errors %}
            <li>{{ error }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <!-- ================= SECTION: IDENTIT√â ================= -->
    <fieldset class="cv-form-section">
      <legend class="cv-section-title">Identit√©</legend>

      <div class="cv-form-row">
        <div class="form-group">
          <label for="{{ form.nom.id_for_label }}" class="required">
            Nom de famille
          </label>
          {{ form.nom }}
          {% if form.nom.errors %}
            <span class="error-message" role="alert">{{ form.nom.errors.0 }}</span>
          {% endif %}
        </div>

        <div class="form-group">
          <label for="{{ form.prenom.id_for_label }}" class="required">
            Pr√©nom
          </label>
          {{ form.prenom }}
          {% if form.prenom.errors %}
            <span class="error-message" role="alert">{{ form.prenom.errors.0 }}</span>
          {% endif %}
        </div>
      </div>

      <div class="cv-form-row">
        <div class="form-group">
          <label for="{{ form.email.id_for_label }}" class="required">
            Adresse email professionnelle
          </label>
          {{ form.email }}
          <small class="cv-muted">
            Format : prenom.nom@email.com
          </small>
          {% if form.email.errors %}
            <span class="error-message" role="alert">{{ form.email.errors.0 }}</span>
          {% endif %}
        </div>

        <div class="form-group">
          <label for="{{ form.telephone.id_for_label }}">
            T√©l√©phone
          </label>
          {{ form.telephone }}
          <small class="cv-muted">
            Exemple : +33 6 12 34 56 78 (France) ou +1 514 123 4567 (Canada)
          </small>
          {% if form.telephone.errors %}
            <span class="error-message" role="alert">{{ form.telephone.errors.0 }}</span>
          {% endif %}
        </div>
      </div>
    </fieldset>

    <!-- ================= SECTION: LOCALISATION ================= -->
    <fieldset class="cv-form-section">
      <legend class="cv-section-title">Localisation</legend>

      <div class="cv-form-row">
        <div class="form-group">
          <label for="{{ form.ville.id_for_label }}">
            Ville de r√©sidence
          </label>
          {{ form.ville }}
          <small class="cv-muted">
            Exemple : Paris, Montr√©al, Bruxelles, Gen√®ve
          </small>
          {% if form.ville.errors %}
            <span class="error-message" role="alert">{{ form.ville.errors.0 }}</span>
          {% endif %}
        </div>

        <div class="form-group">
          <label for="{{ form.province.id_for_label }}">
            Province / R√©gion / √âtat
          </label>
          {{ form.province }}
          <small class="cv-muted">
            Exemple : √éle-de-France, Qu√©bec, Ontario
          </small>
          {% if form.province.errors %}
            <span class="error-message" role="alert">{{ form.province.errors.0 }}</span>
          {% endif %}
        </div>
      </div>
    </fieldset>

    <!-- ================= SECTION: PROFIL PROFESSIONNEL ================= -->
    <fieldset class="cv-form-section">
      <legend class="cv-section-title">Profil professionnel</legend>

      <div class="form-group">
        <label for="{{ form.titre_poste.id_for_label }}" class="required">
          Titre du poste recherch√©
        </label>
        {{ form.titre_poste }}
        <small class="cv-muted">
          Exemples optimis√©s SEO :
          <strong>D√©veloppeur Full-Stack</strong>,
          <strong>Infirmier autoris√©</strong>,
          <strong>Ing√©nieur m√©canique</strong>,
          <strong>Comptable agr√©√©</strong>,
          <strong>Chef de projet IT</strong>
        </small>
        {% if form.titre_poste.errors %}
          <span class="error-message" role="alert">{{ form.titre_poste.errors.0 }}</span>
        {% endif %}
      </div>

      <div class="form-group">
        <label for="{{ form.profession.id_for_label }}">
          Secteur d'activit√© / Industrie
        </label>
        {{ form.profession }}
        <small class="cv-muted">
          Exemples : Informatique / IT, Sant√©, Ing√©nierie, Finance, Commerce, BTP, H√¥tellerie
        </small>
        {% if form.profession.errors %}
          <span class="error-message" role="alert">{{ form.profession.errors.0 }}</span>
        {% endif %}
      </div>
    </fieldset>

    <!-- ================= SECTION: CONFIGURATION CV ================= -->
    <fieldset class="cv-form-section">
      <legend class="cv-section-title">Configuration du CV</legend>

      <div class="cv-form-row">
        <div class="form-group">
          <label for="{{ form.pays_cible.id_for_label }}">
            Pays cibl√© pour l'emploi
          </label>
          {{ form.pays_cible }}
          <small class="cv-muted">
            <strong>Important :</strong> Le CV sera optimis√© selon les normes RH du pays choisi
            (Canada, France, Belgique, Suisse, Allemagne, UK, etc.)
          </small>
          {% if form.pays_cible.errors %}
            <span class="error-message" role="alert">{{ form.pays_cible.errors.0 }}</span>
          {% endif %}
        </div>

        <div class="form-group">
          <label for="{{ form.language.id_for_label }}">
            Langue principale du CV
          </label>
          {{ form.language }}
          <small class="cv-muted">
            Choisissez la langue dans laquelle votre CV sera g√©n√©r√©.
            <strong>Traduction automatique disponible</strong> pour 5 langues.
          </small>
          {% if form.language.errors %}
            <span class="error-message" role="alert">{{ form.language.errors.0 }}</span>
          {% endif %}
        </div>
      </div>
    </fieldset>

    <!-- ================= SECTION: R√âSEAUX PROFESSIONNELS ================= -->
    <fieldset class="cv-form-section">
      <legend class="cv-section-title">R√©seaux professionnels (optionnel)</legend>

      <div class="form-group">
        <label for="{{ form.linkedin.id_for_label }}">
          Profil LinkedIn
        </label>
        {{ form.linkedin }}
        <small class="cv-muted">
          Exemple : https://linkedin.com/in/votre-profil
          <br><strong>Conseil :</strong> Un profil LinkedIn complet augmente vos chances de 40%
        </small>
        {% if form.linkedin.errors %}
          <span class="error-message" role="alert">{{ form.linkedin.errors.0 }}</span>
        {% endif %}
      </div>
    </fieldset>

    <!-- ================= NAVIGATION WIZARD ================= -->
    <nav class="cv-step-actions" aria-label="Navigation du formulaire">
      <a href="{% url 'cv_generator:cv_list' %}" 
         class="cv-btn-secondary"
         aria-label="Retour √† la liste des CV">
        ‚Üê Retour √† mes CV
      </a>

      <button type="submit" 
              class="cv-btn-success"
              aria-label="Sauvegarder et passer √† l'√©tape 2 - Exp√©riences professionnelles">
        Continuer vers les exp√©riences ‚Üí
      </button>
    </nav>

  </form>

</section>

<!-- ================= SEO CONTENT FOOTER ================= -->
<aside class="cv-seo-content" role="complementary">
  <h2 class="cv-seo-title">Pourquoi cr√©er un CV professionnel avec Immigration97 ?</h2>
  <div class="cv-seo-grid">
    <article class="cv-seo-card">
      <h3>üá®üá¶ CV conforme Canada</h3>
      <p>
        G√©n√©rez un <strong>CV ATS-friendly</strong> respectant les normes canadiennes :
        format chronologique, sans photo, optimis√© pour les <strong>logiciels de recrutement</strong>.
      </p>
    </article>

    <article class="cv-seo-card">
      <h3>üá™üá∫ CV Europass Europe</h3>
      <p>
        Cr√©ez un <strong>CV Europass</strong> ou moderne conforme aux standards europ√©ens
        pour postuler en France, Belgique, Suisse, Allemagne, Espagne, Italie.
      </p>
    </article>

    <article class="cv-seo-card">
      <h3>üåç Multilingue</h3>
      <p>
        G√©n√©rez votre CV en <strong>5 langues</strong> : Fran√ßais, Anglais, Allemand, Espagnol, Italien.
        Traduction automatique optimis√©e pour chaque march√©.
      </p>
    </article>

    <article class="cv-seo-card">
      <h3>ü§ñ Optimisation IA</h3>
      <p>
        Notre <strong>intelligence artificielle</strong> analyse et am√©liore votre CV :
        mots-cl√©s sectoriels, verbes d'action, quantification des r√©sultats.
      </p>
    </article>
  </div>
</aside>

{% endblock %}