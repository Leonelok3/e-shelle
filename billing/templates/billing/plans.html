{% extends "billing/base_billing.html" %}
{% block title %}Abonnements | Immigration97{% endblock %}
{% block content %}

<style>
/* ============================================================
   UI 2026 – Immigration97 Abonnements
   Glass • Neo-Gradient • Pro Shadows
   ============================================================ */

.b-card{
  background:
    radial-gradient(circle at top left, rgba(56,189,248,0.20), transparent 60%),
    radial-gradient(circle at bottom right, rgba(34,197,94,0.15), transparent 60%),
    rgba(15,23,42,0.90);
  border:1px solid rgba(148,163,184,0.35);
  padding:32px 24px;
  border-radius:22px;
  box-shadow:
    0 10px 28px rgba(0,0,0,0.55),
    0 0 34px rgba(56,189,248,0.20);
  backdrop-filter: blur(18px);
  color:#e5e7eb;
  animation: fadeIn .45s ease-out;
}

/* Layout des cartes */
.b-cards{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:22px;
  margin-top:20px;
}

/* Carte Plan */
.b-plan{
  background:
    linear-gradient(145deg, rgba(15,23,42,0.95), rgba(2,6,23,0.92));
  padding:24px;
  border-radius:20px;
  border:1px solid rgba(148,163,184,0.25);
  box-shadow:0 12px 26px rgba(0,0,0,0.40);
  transition:transform .25s, box-shadow .25s, border-color .25s;
}

.b-plan:hover{
  transform:translateY(-5px);
  border-color:rgba(56,189,248,0.45);
  box-shadow:
    0 20px 40px rgba(0,0,0,0.55),
    0 0 32px rgba(56,189,248,0.25);
}

/* Titres plan */
.b-plan h3{
  font-size:1.35rem;
  font-weight:800;
  margin-bottom:6px;
  background:linear-gradient(135deg,#34d399,#06b6d4,#3b82f6);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

/* Prix */
.b-price{
  font-size:1.45rem;
  font-weight:700;
  margin-bottom:10px;
  color:#f1f5f9;
}

/* Description */
.b-desc{
  color:#94a3b8;
  font-size:.9rem;
  margin-bottom:16px;
  line-height:1.45;
}

/* Bouton */
.b-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:10px 16px;
  border-radius:999px;
  font-weight:700;
  font-size:.88rem;
  text-decoration:none;
  transition:background .25s, transform .25s, box-shadow .25s;
}

.b-primary{
  background:linear-gradient(135deg,#06b6d4,#3b82f6);
  color:#020617;
  box-shadow:0 10px 25px rgba(37,99,235,0.55);
}

.b-primary:hover{
  transform:translateY(-2px);
  box-shadow:0 14px 32px rgba(37,99,235,0.75);
}

/* Hint */
.b-hint{
  margin-top:22px;
  font-size:.85rem;
  color:#94a3b8;
}

/* Animation */
@keyframes fadeIn{
  from{opacity:0;transform:translateY(10px);}
  to{opacity:1;transform:translateY(0);}
}
</style>

<section class="b-card">
  <h1>Abonnements mensuels</h1>

  <div class="b-cards">
    {% for p in plans %}
      <div class="b-plan">
        <h3>{{ p.name }}</h3>
        <div class="b-price">${{ p.price_usd }} / mois</div>
        <p class="b-desc">{{ p.description|default:"Usage illimité sur la plateforme." }}</p>
        <a class="b-btn b-primary" href="{% url 'billing:activate_plan' p.slug %}">Activer (mode test)</a>
      </div>
    {% empty %}
      <p>Aucun plan disponible.</p>
    {% endfor %}
  </div>

  <p class="b-hint">⚠️ Pour l’instant: activation test. Les paiements réels viendront via webhook (CinetPay/Flutterwave/…)</p>
</section>

{% endblock %}
