{% extends "base.html" %}
{% load static %}

{% block body_class %}preparation-tests{% endblock %}
{% block app_scope %}preparation-tests{% endblock %}

{% block title %}
Examen blanc par niveau CECR â€“ A1 Ã  C2 | Immigration97
{% endblock %}

{% block meta_description %}
Passe un examen blanc calibrÃ© Ã  ton niveau CECR (A1 Ã  C2).
ComprÃ©hension orale, comprÃ©hension Ã©crite, expression orale et Ã©crite.
RÃ©sultats instantanÃ©s avec Immigration97.
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/preparation_tests.css' %}?v=20260227">
{% endblock %}

{% block content %}

<!-- HERO -->
<section class="pt-hero">
  <div class="container pt-fade-up">

    <span class="pt-badge pt-badge--exam">
      ğŸ§ª Examen blanc par niveau
    </span>

    <h1 class="pt-title">
      Teste ton niveau<br>
      <span class="pt-gradient-primary">A1</span> â†’
      <span class="pt-gradient-primary">C2</span>
    </h1>

    <p class="pt-lead">
      Choisis ton niveau CECR et passe un <strong>examen blanc complet</strong> :
      comprÃ©hension orale, comprÃ©hension Ã©crite, expression orale et Ã©crite.
      CO + CE sont <strong>auto-corrigÃ©s</strong> instantanÃ©ment.
    </p>

    <div class="pt-cta-group" style="margin-top:1.2rem;">
      <a href="{% url "preparation_tests:mock_exam_history" %}" class="pt-btn-ghost">
        ğŸ“Š Mon historique
      </a>
    </div>

  </div>
</section>

<!-- NIVEAUX -->
<section class="pt-section">
  <div class="container">

    <header class="pt-section-header">
      <h2>ğŸ“‹ Choisir un niveau</h2>
      <p>
        Chaque examen blanc est composÃ© de leÃ§ons alÃ©atoires adaptÃ©es Ã  ton niveau.
        <strong>CO + CE</strong> sont notÃ©s automatiquement â€”
        <strong>EO + EE</strong> sont des sujets de pratique libre.
      </p>
    </header>

    <div class="pt-level-grid">

      {% for l in levels %}
      <article class="pt-card pt-card--level">

        <span class="pt-level-badge pt-level-{{ l.level|lower }}">
          {{ l.level }}
        </span>

        <h3 class="pt-level-title">Niveau {{ l.level }}</h3>

        <div class="pt-skill-counts">
          <span class="pt-skill-tag {% if l.co_count == 0 %}is-empty{% endif %}">
            ğŸ§ CO : {{ l.co_count }} leÃ§on{{ l.co_count|pluralize }}
          </span>
          <span class="pt-skill-tag {% if l.ce_count == 0 %}is-empty{% endif %}">
            ğŸ“– CE : {{ l.ce_count }} leÃ§on{{ l.ce_count|pluralize }}
          </span>
          <span class="pt-skill-tag {% if l.eo_count == 0 %}is-empty{% endif %}">
            ğŸ¤ EO : {{ l.eo_count }} leÃ§on{{ l.eo_count|pluralize }}
          </span>
          <span class="pt-skill-tag {% if l.ee_count == 0 %}is-empty{% endif %}">
            âœï¸ EE : {{ l.ee_count }} leÃ§on{{ l.ee_count|pluralize }}
          </span>
        </div>

        <div class="pt-cta-group">
          {% if l.has_mcq %}
          <a
            href="{% url "preparation_tests:level_mock_exam" l.level %}"
            class="pt-btn-primary"
          >
            â–¶ Commencer le niveau {{ l.level }}
          </a>
          {% else %}
          <span class="pt-btn-ghost" style="cursor:default; opacity:.6;">
            Contenu bientÃ´t disponible
          </span>
          {% endif %}
        </div>

      </article>
      {% endfor %}

    </div>

  </div>
</section>

<!-- INFO BOX -->
<section class="pt-section">
  <div class="container">
    <article class="pt-card" style="max-width:700px; margin:0 auto; text-align:center;">
      <h3>â„¹ï¸ Comment Ã§a marche ?</h3>
      <div class="pt-info-grid" style="margin-top:1rem;">
        <div>
          <span class="pt-info-label">ğŸ§ CO</span>
          <span class="pt-info-value">Questions QCM â€” score automatique</span>
        </div>
        <div>
          <span class="pt-info-label">ğŸ“– CE</span>
          <span class="pt-info-value">Questions QCM â€” score automatique</span>
        </div>
        <div>
          <span class="pt-info-label">ğŸ¤ EO</span>
          <span class="pt-info-value">Sujet de prise de parole â€” pratique libre</span>
        </div>
        <div>
          <span class="pt-info-label">âœï¸ EE</span>
          <span class="pt-info-value">Sujet de rÃ©daction â€” pratique libre</span>
        </div>
      </div>
    </article>
  </div>
</section>

{% endblock %}
