{% extends "base.html" %}
{% load static %}

{# ==================================================
   SCOPE STRICT APP
================================================== #}
{% block body_class %}preparation-tests{% endblock %}
{% block app_scope %}preparation-tests{% endblock %}

{# ==================================================
   SEO ‚Äî TITLE & META
================================================== #}
{% block title %}
{{ exam.name }} ‚Äì Structure, sections & bar√®me | Immigration97
{% endblock %}

{% block meta_description %}
Informations officielles sur {{ exam.name }} :
structure de l‚Äôexamen, sections (CO, CE, EE, EO),
bar√®me et conseils de pr√©paration avec Immigration97.
{% endblock %}

{# ==================================================
   CSS APP ‚Äî VERSIONN√â
================================================== #}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/preparation_tests.css' %}?v=20260226">
{% endblock %}

{% block content %}

<!-- ==================================================
HERO ‚Äî EXAMEN {{ exam.name }}
================================================== -->
<section class="pt-hero">
  <div class="container pt-fade-up">

    <span class="pt-badge">
      Test de langue
    </span>

    <h1 class="pt-title">
      {{ exam.name }}
    </h1>

    {% if exam.description %}
      <p class="pt-lead">
        {{ exam.description }}
      </p>
    {% endif %}

  </div>
</section>

<!-- ==================================================
CONTENU EXAMEN
================================================== -->
<section class="pt-section">
  <div class="container">

    <div class="pt-grid-layout">

      <!-- ================= MAIN ================= -->
      <div class="pt-main">

        <!-- STRUCTURE -->
        <article class="pt-card pt-card--exam">
          <h2>Structure de l‚Äôexamen</h2>

          <ul class="pt-exam-sections">
            {% for section in exam.sections.all %}
              <li>
                <strong>{{ section.get_code_display }}</strong>
                <span class="pt-small">
                  Dur√©e : {{ section.duration_sec|floatformat:0 }} secondes
                </span>
              </li>
            {% empty %}
              <li class="pt-small">
                Aucune section d√©finie pour cet examen.
              </li>
            {% endfor %}
          </ul>
        </article>

        <!-- ACTIONS -->
        <article class="pt-card pt-card--actions">
          <h2>Actions disponibles</h2>

          <div class="pt-cta-group">

            {% if exam.code == "tef" %}
              <a
                href="{% url 'preparation_tests:tef_hub' %}"
                class="pt-btn-primary"
              >
                üéØ Pr√©parer le TEF
              </a>

              <a
                href="{% url 'preparation_tests:dashboard_global' %}"
                class="pt-btn-secondary"
              >
                üìä Mon niveau TEF
              </a>
            {% endif %}

            <a
              href="{% url 'preparation_tests:exam_list' %}"
              class="pt-btn-secondary"
            >
              ‚Üê Tous les examens
            </a>

          </div>
        </article>

      </div>

      <!-- ================= SIDEBAR ================= -->
      <aside class="pt-side">

        <div class="pt-card pt-card--side">
          <h3>Conseils de pr√©paration</h3>

          <ul class="pt-side-list">
            <li>Commence par les <strong>cours + exercices</strong></li>
            <li>Passe ensuite aux <strong>examens blancs</strong></li>
            <li>Analyse syst√©matiquement tes erreurs</li>
            <li>Utilise le <strong>Coach IA</strong> pour progresser</li>
          </ul>
        </div>

      </aside>

    </div>

  </div>
</section>

{% endblock %}
