{% extends "DocumentsApp/base_documents.html" %}

{% block body_class %}documents{% endblock %}
{% block app_scope %}documents{% endblock %}

{% block title %}Traduction DOCX ‚Äî Mise en forme conserv√©e | Immigration97{% endblock %}
{% block meta_description %}
Traduisez un document DOCX (dipl√¥me, relev√©, CV) vers FR/EN/ES en conservant la structure. Utile pour Canada, Europe, USA. T√©l√©versement simple et r√©sultat t√©l√©chargeable.
{% endblock %}

{% block documents_content %}
<div class="docs-page">

  <!-- Header -->
  <header class="docs-page__header">
    <a href="{% url 'DocumentsApp:home' %}" class="docs-page__back">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
      Retour au module Documents
    </a>

    <div class="docs-page__icon docs-page__icon--primary" aria-hidden="true">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/>
      </svg>
    </div>

    <h1 class="docs-page__title">Traduction de documents (DOCX)</h1>
    <p class="docs-page__subtitle">
      T√©l√©verse ton fichier .docx, s√©lectionne les langues, puis r√©cup√®re la version traduite.
    </p>
  </header>

  <!-- Messages -->
  {% if messages %}
    <div class="docs-messages">
      {% for message in messages %}
        <div class="docs-alert docs-alert--{{ message.tags }}">
          <div class="docs-alert__icon">
            {% if message.tags == 'success' %}‚úì{% elif message.tags == 'error' %}‚úï{% else %}‚Ñπ{% endif %}
          </div>
          <div class="docs-alert__content">{{ message }}</div>
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <!-- Form -->
  <form method="post" enctype="multipart/form-data" class="docs-form" novalidate>
    {% csrf_token %}

    <div class="docs-form__card">

      <!-- Upload -->
      <div class="docs-form__group">
        <label class="docs-form__label">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
          </svg>
          {{ form.file.label }}
        </label>

        <div class="docs-form__upload">
          {{ form.file }}
          <div class="docs-form__upload-placeholder">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
              <path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
            </svg>
            <span class="docs-form__upload-text">Clique pour s√©lectionner un fichier .docx</span>
            <span class="docs-form__upload-hint">ou glisse-d√©pose le document ici</span>
          </div>
        </div>

        {% if form.file.help_text %}
          <small class="docs-form__help">{{ form.file.help_text }}</small>
        {% endif %}
        {% if form.file.errors %}
          <div class="docs-form__error">{{ form.file.errors }}</div>
        {% endif %}
      </div>

      <!-- Languages grid -->
      <div class="docs-form__row">
        <div class="docs-form__group">
          <label class="docs-form__label">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/>
            </svg>
            {{ form.source_lang.label }}
          </label>
          <div class="docs-field">
            {{ form.source_lang }}
          </div>
          {% if form.source_lang.errors %}
            <div class="docs-form__error">{{ form.source_lang.errors }}</div>
          {% endif %}
        </div>

        <div class="docs-form__group">
          <label class="docs-form__label">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/>
            </svg>
            {{ form.target_lang.label }}
          </label>
          <div class="docs-field">
            {{ form.target_lang }}
          </div>
          {% if form.target_lang.errors %}
            <div class="docs-form__error">{{ form.target_lang.errors }}</div>
          {% endif %}
        </div>
      </div>

      <!-- Submit + secondary -->
      <div class="docs-form__actions">
        <button type="submit" class="docs-form__submit docs-form__submit--primary">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/>
          </svg>
          Traduire et continuer
        </button>

        <a class="docs-btn docs-btn--ghost docs-form__secondary" href="{% url 'DocumentsApp:compression' %}">
          Compresser un PDF
        </a>
      </div>

      <p class="docs-note">
        Pour garder une structure propre, utilise DOCX (Word). Les PDF scann√©s ne se traduisent pas correctement.
      </p>
    </div>
  </form>

  <!-- Info -->
  <div class="docs-info docs-info--compact">
    <div class="docs-info__icon" aria-hidden="true">üí°</div>
    <div class="docs-info__content">
      <h3 class="docs-info__title">Conseils de traduction</h3>
      <ul class="docs-info__list">
        <li>Document obligatoire : <strong>.docx</strong></li>
        <li>Mise en forme conserv√©e (titres, listes, paragraphes)</li>
        <li>Selon la taille, le traitement peut prendre quelques secondes</li>
      </ul>
    </div>
  </div>

</div>
{% endblock %}
