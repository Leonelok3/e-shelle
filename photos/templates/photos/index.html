{% extends "base.html" %}
{% load static %}

{% block title %}G√©n√©rateur de Photo Conforme pour Visa ¬∑ Immigration97{% endblock %}

{% block meta %}
  <meta name="description" content="G√©n√©rez une photo conforme pour tout type de visa (DV Lottery, France, Canada, UK). Validation automatique, centrage du visage et t√©l√©chargement du fichier pr√™t √† d√©poser. Aper√ßu gratuit avant t√©l√©chargement.">
  <link rel="canonical" href="{{ request.build_absolute_uri }}">
  <meta property="og:title" content="G√©n√©rateur de Photo Conforme pour Visa ‚Äî Immigration97">
  <meta property="og:description" content="T√©l√©versez, choisissez le type de visa, obtenez une photo conforme valid√©e automatiquement. Aper√ßu gratuit.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="{{ request.build_absolute_uri }}static/img/photo_ok.jpg">
  <meta name="twitter:card" content="summary_large_image">

  <!-- CSS D√âDI√â VISA PHOTO -->
  <link rel="stylesheet" href="{% static 'css/pages/visa_photo.css' %}">
{% endblock %}

{% block content %}

<main class="container">

  <!-- JSON-LD Schema pour SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Service",
    "name": "G√©n√©rateur de Photo Conforme pour Visa",
    "provider": {
      "@type": "Organization",
      "name": "Immigration97",
      "url": "{{ request.build_absolute_uri }}"
    },
    "description": "G√©n√©rez des photos conformes aux exigences des ambassades (DV Lottery, France, Canada, UK). Validation automatique, centrage du visage et fichier pr√™t √† d√©poser.",
    "url": "{{ request.build_absolute_uri }}",
    "serviceType": "Photo de visa conforme",
    "areaServed": {"@type": "Country", "name": "Global"}
  }
  </script>

  <!-- HERO -->
  <header class="hero text-center" role="banner" aria-label="G√©n√©rateur de photo conforme">
    <h1 class="h1 text-gradient">
      Bienvenue ‚Äî G√©n√©rateur de photo conforme pour tout type de visa
    </h1>

    <p class="lead mt-3">
      Assist√© par <strong>intelligence artificielle</strong> ‚Äî s√©lectionnez le type
      de visa, t√©l√©versez votre photo et laissez-nous faire le reste.
    </p>

    <p class="mt-4">
      <a href="#upload" class="btn btn-primary btn-lg" aria-label="G√©n√©rer ma photo conforme">
        üì∏ G√©n√©rer ma photo conforme ‚Äî Aper√ßu gratuit
      </a>
      <a href="#specifications" class="btn btn-outline btn-lg" aria-label="Voir les sp√©cifications">
        Voir sp√©cifications
      </a>
    </p>

    <p class="muted text-sm mt-3">
      Aper√ßu gratuit avant toute op√©ration payante ¬∑ Confidentialit√© garantie ¬∑
      Suppression automatique possible apr√®s 24h.
    </p>
  </header>

  <section class="panel mt-8" aria-labelledby="benefits-heading">
    <h2 id="benefits-heading" class="sr-only">Avantages du service</h2>

    <div class="benefits" role="list" aria-label="Avantages">
      <div class="badge" role="listitem">‚úÖ Conformit√© automatique</div>
      <div class="badge" role="listitem">üîé D√©tection & centrage du visage</div>
      <div class="badge" role="listitem">üéØ Fond homog√®ne & compression</div>
      <div class="badge" role="listitem">üìÅ Fichier pr√™t √† d√©poser</div>
    </div>

    <hr class="divider my-6" />

    <!-- FORMULAIRE DE T√âL√âVERSEMENT -->
    <div id="upload" class="upload-box" aria-labelledby="upload-heading">
      <h2 id="upload-heading" class="text-xl font-semibold mb-4 text-center">
        T√©l√©versez votre photo ‚Äî simple & rapide
      </h2>

      <form method="post" enctype="multipart/form-data" action="{% url 'photos:submit' %}">
        {% csrf_token %}
        {{ form.non_field_errors }}

        <div class="form-row mb-4">
          <label for="id_photo_type" class="block mb-1">Type de photo</label>
          {{ form.photo_type }}
          <p class="muted text-sm mt-1">
            Ex : DV Lottery (Green Card), Visa France, Visa Canada, Visa UK.
          </p>
        </div>

        <div class="form-row mb-2">
          <label for="id_image" class="block mb-1">
            Choisir une image (JPEG / PNG)
          </label>
          {{ form.image }}
          <p class="muted text-sm mt-1">
            Format recommand√© : photo face cam√©ra, fond uni, sans ombre.
            Taille maximum : 10MB.
          </p>
        </div>

        <button type="submit" class="btn btn-primary w-full mt-4" aria-label="G√©n√©rer la photo conforme">
          üì∏ G√©n√©rer ma photo conforme ‚Äî Aper√ßu gratuit
        </button>
      </form>

      <p class="muted text-center mt-3 text-sm">
        *L'aper√ßu gratuit s'affiche avant le t√©l√©chargement final.
        Paiement pour t√©l√©chargement final (bient√¥t).
      </p>
    </div>
  </section>

  <hr class="divider my-8" />

  <!-- SP√âCIFICATIONS -->
  <section id="specifications" class="panel" aria-labelledby="specs-heading">
    <h2 id="specs-heading">Sp√©cifications prises en charge (MVP)</h2>

    <p class="muted mb-4">
      Nous supportons les formats et contraintes courantes des repr√©sentations officielles.
      En cas de doute, t√©l√©versez pour un contr√¥le automatique.
    </p>

    <div class="spec-cards" role="list">

      <article class="spec-card" role="listitem">
        <div class="spec-title">DV Lottery (Green Card)</div>
        <div class="spec-meta">600√ó600 ¬∑ JPEG</div>
        <p class="muted">Recadrage carr√©, visage centr√©, fond clair et homog√®ne.</p>
      </article>

      <article class="spec-card" role="listitem">
        <div class="spec-title">Visa France</div>
        <div class="spec-meta">413√ó531 ¬∑ JPEG</div>
        <p class="muted">Rapport & marges conformes aux recommandations fran√ßaises.</p>
      </article>

      <article class="spec-card" role="listitem">
        <div class="spec-title">Visa Canada</div>
        <div class="spec-meta">591√ó827 ¬∑ JPEG</div>
        <p class="muted">Fond uniforme, t√™te d√©gag√©e, compression contr√¥l√©e.</p>
      </article>

      <article class="spec-card" role="listitem">
        <div class="spec-title">Visa UK</div>
        <div class="spec-meta">600√ó750 ¬∑ JPEG</div>
        <p class="muted">Centrage automatique et contr√¥le de la luminosit√©.</p>
      </article>

    </div>
  </section>

  <section class="panel" aria-labelledby="how-heading">
    <h3 id="how-heading">Comment √ßa marche ‚Äî 4 √©tapes</h3>

    <ol class="steps">
      <li><strong>Choisissez</strong> le type de photo.</li>
      <li><strong>T√©l√©versez</strong> votre image.</li>
      <li><strong>Validation automatique</strong> + aper√ßu.</li>
      <li><strong>T√©l√©chargez</strong> la photo conforme.</li>
    </ol>
  </section>

  <section class="panel highlight" aria-labelledby="examples-heading">
    <h3 id="examples-heading">Exemples & conseils photo</h3>

    <div class="example-grid">
      <div class="example good">
        <img src="/static/img/photo_ok.jpg" alt="Photo conforme" loading="lazy">
        <p>‚úÖ Conforme ‚Äî visage centr√©</p>
      </div>

      <div class="example bad">
        <img src="/static/img/photo_non_ok.jpg" alt="Photo non conforme" loading="lazy">
        <p>‚ùå Non conforme</p>
      </div>
    </div>
  </section>

  <section class="panel" aria-labelledby="faq-heading">
    <h3 id="faq-heading">FAQ</h3>

    <details class="faq">
      <summary>Ma photo sera-t-elle accept√©e ?</summary>
      <p>Nous appliquons les sp√©cifications officielles pour chaque pays.</p>
    </details>

    <details class="faq">
      <summary>Quel est le format final ?</summary>
      <p>JPEG optimis√©, pr√™t √† d√©poser.</p>
    </details>

    <details class="faq">
      <summary>Le paiement est-il requis ?</summary>
      <p>Aper√ßu gratuit, paiement au t√©l√©chargement.</p>
    </details>
  </section>

  <footer class="panel muted text-sm">
    <p>¬© {{ now.year }} Immigration97 ‚Äî Service de g√©n√©ration de photos conformes.</p>
  </footer>

</main>

{% endblock %}
