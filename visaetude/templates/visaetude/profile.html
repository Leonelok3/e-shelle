{% extends "base.html" %}
{% load static %}

{% block body_class %}visa-etude{% endblock %}

{% block title %}
Profil Visa √âtudiant | Immigration97
{% endblock %}

{% block meta_description %}
Profil Visa √âtudes Immigration97 : analyse intelligente de ton niveau,
budget et objectifs pour identifier les pays, universit√©s, bourses
et strat√©gies visa r√©ellement accessibles.
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/visa_etude.css' %}">
{% endblock %}

{% block content %}

<div class="container ve-container"><!-- ‚úÖ CONTAINER CRITIQUE -->

  <!-- ================= HEADER ================= -->
  <section class="ve-section-header mb-4">
    <div class="row">
      <div class="col-lg-9">
        <span class="ve-step-badge">
          √âtape 1 ¬∑ Profil & Diagnostic
        </span>

        <h1 class="ve-page-title">
          Mon profil √©tudiant
        </h1>

        <p class="ve-page-subtitle">
          Cette analyse permet √† Immigration97 et au coach IA de
          <strong>d√©terminer les pays r√©ellement accessibles</strong>,
          d‚Äô√©viter les erreurs co√ªteuses
          et de construire un parcours visa r√©aliste.
        </p>
      </div>
    </div>
  </section>

  <!-- ================= CONTENT ================= -->
  <div class="row g-4">

    <!-- ========== FORMULAIRE ========= -->
    <div class="col-lg-7">

      <div class="card card-module ve-form-card p-4">

        {% if not user.is_authenticated %}
          <div class="alert alert-warning ve-alert-soft mb-4">
            üîí <strong>Connexion requise</strong><br>
            <small>
              En mode invit√©, le formulaire est consultable
              mais non enregistrable.
            </small>
          </div>
        {% endif %}

        <form method="post" novalidate class="ve-form">
          {% csrf_token %}

          <div class="ve-form-group">
            <label class="ve-label">{{ form.pays_origine.label }}</label>
            {{ form.pays_origine }}
            <small class="ve-help">
              Pays depuis lequel tu feras ta demande de visa.
            </small>
          </div>

          <div class="ve-form-group">
            <label class="ve-label">{{ form.niveau_etude.label }}</label>
            {{ form.niveau_etude }}
            <small class="ve-help">
              Dernier dipl√¥me obtenu ou en cours.
            </small>
          </div>

          <div class="ve-form-group">
            <label class="ve-label">{{ form.domaine_etude.label }}</label>
            {{ form.domaine_etude }}
            <small class="ve-help">
              Ex : Informatique, Gestion, Sant√©, Ing√©nierie‚Ä¶
            </small>
          </div>

          <div class="ve-form-group">
            <label class="ve-label">{{ form.budget_disponible.label }}</label>
            {{ form.budget_disponible }}
            <small class="ve-help">
              Budget global estim√© (frais, logement, visa).
            </small>
          </div>

          <div class="ve-form-group">
            <label class="ve-label">{{ form.telephone.label }}</label>
            {{ form.telephone }}
            <small class="ve-help">
              Optionnel ‚Äî utilis√© pour l‚Äôaccompagnement personnalis√©.
            </small>
          </div>

          {% if user.is_authenticated %}
            <button type="submit" class="ve-btn-primary w-100 mt-3">
              üíæ Enregistrer mon profil √©tudiant
            </button>
          {% else %}
            <button type="button" class="ve-btn-disabled w-100 mt-3" disabled>
              üîí Connexion requise pour enregistrer
            </button>
          {% endif %}
        </form>

      </div>
    </div>

    <!-- ========== SIDEBAR ========= -->
    <div class="col-lg-5">

      <div class="card card-module ve-info-card p-4 mb-4">
        <h3 class="ve-card-title">
          üéØ Pourquoi ce profil est crucial ?
        </h3>

        <ul class="ve-checklist">
          <li>Identifier les pays vraiment accessibles</li>
          <li>√âviter les refus de visa inutiles</li>
          <li>Adapter les conseils du coach IA</li>
          <li>Cr√©er une checklist r√©aliste et prioris√©e</li>
        </ul>
      </div>

      <div class="card card-module ve-info-card p-4">
        <h3 class="ve-card-title">
          ü§ñ R√¥le du coach IA
        </h3>

        <p class="small text-muted mb-0">
          Le coach analyse ton profil pour proposer
          des strat√©gies adapt√©es √† ton niveau acad√©mique,
          ton budget et les exigences r√©elles des ambassades.
        </p>
      </div>

    </div>

  </div>

</div><!-- ‚úÖ FIN CONTAINER -->

{% endblock %}
