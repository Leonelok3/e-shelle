{% extends "base.html" %}
{% load static %}

{% block title %}
Mettre √† jour un document ‚Äì Checklist Visa √âtudes | Immigration97
{% endblock %}

{% block meta_description %}
Mise √† jour d‚Äôun document Visa √âtudes Immigration97 :
g√®re l‚Äô√©tat d‚Äôavancement de ton dossier visa √©tudiant,
t√©l√©verse tes documents et ajoute des notes de suivi.
{% endblock %}

{% block body_class %}visa-etude{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/visa_etude.css' %}">
{% endblock %}

{% block content %}

<!-- ==================================================
HERO ‚Äî DOCUMENT CHECKLIST
================================================== -->
<section class="ve-dashboard-hero fade-in-up">
  <div class="container ve-text-block">

    <span class="ve-badge">
      üìÑ Checklist Visa √âtudes
    </span>

    <h1 class="ve-title">
      Mettre √† jour un document
      <span class="ve-gradient">de ton dossier visa</span>
    </h1>

    <p class="ve-lead">
      Mets √† jour l‚Äô√©tat d‚Äôavancement de ce document,
      t√©l√©verse la version finale et ajoute des notes
      pour mieux suivre ton <strong>dossier visa √©tudiant</strong>.
    </p>

  </div>
</section>

<!-- ==================================================
FORMULAIRE DOCUMENT
================================================== -->
<section>
  <div class="container" style="max-width:900px">

    <div class="ve-module-card">

      <span class="ve-step">Document requis</span>
      <h2>{{ item.document.nom }}</h2>

      {% if item.document.description %}
        <p class="small">
          {{ item.document.description }}
        </p>
      {% endif %}

      <form method="post" enctype="multipart/form-data" novalidate>
        {% csrf_token %}

        <!-- Statut -->
        <div class="ve-field">
          <label class="small">Statut du document</label>
          {{ form.statut }}
          <p class="small">
            Indique o√π tu en es : √† faire, en cours ou termin√©.
          </p>
        </div>

        <!-- Fichier -->
        <div class="ve-field">
          <label class="small">T√©l√©verser le document</label>
          {{ form.fichier }}

          {% if item.fichier %}
            <p class="small">
              üìé Document actuel :
              <a href="{{ item.fichier.url }}" target="_blank" class="ve-module-link">
                Voir le fichier ‚Üí
              </a>
            </p>
          {% endif %}

          <p class="small">
            Formats accept√©s : PDF, JPG, PNG, DOCX ‚Äî taille max 10 Mo.
          </p>
        </div>

        <!-- Notes -->
        <div class="ve-field">
          <label class="small">Notes personnelles</label>
          {{ form.notes }}
          <p class="small">
            Ajoute des rappels utiles (date d‚Äôexpiration, traduction √† faire, original requis, etc.).
          </p>
        </div>

        <!-- Actions -->
        <div class="ve-cta-group">
          <a href="{% url 'visaetude:checklist' %}" class="ve-btn-secondary">
            ‚Üê Retour √† la checklist
          </a>

          <button type="submit" class="ve-btn-primary">
            Enregistrer le document
          </button>
        </div>

      </form>

    </div>

    <!-- CONSEILS -->
    <div class="ve-text-block" style="margin-top:2rem">

      <span class="ve-step">Conseils pratiques</span>
      <h3>Bonnes pratiques pour ton dossier visa</h3>

      <ul>
        <li>Scanne tes documents en bonne qualit√© (300 DPI recommand√©).</li>
        <li>V√©rifie que tous les textes sont lisibles et complets.</li>
        <li>Garde toujours une copie de sauvegarde.</li>
        <li>Contr√¥le les dates d‚Äôexpiration des documents officiels.</li>
      </ul>

    </div>

  </div>
</section>

{% endblock %}
