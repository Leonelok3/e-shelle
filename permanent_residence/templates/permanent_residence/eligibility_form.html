{% extends "base.html" %}
{% load static %}

{% block title %}
Diagnostic Résidence Permanente – Canada / Australie | immigration97
{% endblock %}

{% block head_extra %}
<link rel="stylesheet" href="{% static 'css/pages/residence_permanente_nav.css' %}">
{% endblock %}

{% block content %}

{% include "permanent_residence/_rp_nav.html" %}

<div class="rp-diagnostic">

  <!-- HEADER -->
  <header class="rp-card rp-diagnostic-header">
    <p class="rp-kicker">Étape 1 · Diagnostic RP</p>

    <h1 class="rp-title">
      Complète ton diagnostic Résidence Permanente
    </h1>

    <p class="rp-text">
      Réponds aux questions clés (âge, études, langues, expérience, profil).
      Ensuite tu obtiens :
      <strong>un résumé clair</strong>,
      <strong>des programmes adaptés</strong>,
      et <strong>un plan d’action RP personnalisé</strong>.
    </p>
  </header>

  <!-- FORMULAIRE -->
  <section class="rp-card">
    <form method="post" class="rp-form" novalidate>
      {% csrf_token %}

      {% if form.non_field_errors %}
      <div class="rp-alert rp-alert--error">
        {{ form.non_field_errors }}
      </div>
      {% endif %}

      <!-- PROFIL GÉNÉRAL -->
      <div class="rp-form-section">
        <h2 class="rp-section-title">Profil général</h2>

        <div class="rp-form-grid">
          <div>
            <label>{{ form.country.label }}</label>
            {{ form.country }}
          </div>

          <div>
            <label>{{ form.age.label }}</label>
            {{ form.age }}
          </div>

          <div>
            <label>{{ form.years_experience.label }}</label>
            {{ form.years_experience }}
          </div>

          <div>
            <label>{{ form.education_level.label }}</label>
            {{ form.education_level }}
          </div>
        </div>
      </div>

      <!-- FRANÇAIS -->
      <div class="rp-form-section">
        <h2 class="rp-section-title">Français</h2>

        <div class="rp-form-grid">
          <div><label>{{ form.french_exam.label }}</label>{{ form.french_exam }}</div>
          <div><label>{{ form.french_level.label }}</label>{{ form.french_level }}</div>
          <div><label>{{ form.french_co.label }}</label>{{ form.french_co }}</div>
          <div><label>{{ form.french_ce.label }}</label>{{ form.french_ce }}</div>
          <div><label>{{ form.french_eo.label }}</label>{{ form.french_eo }}</div>
          <div><label>{{ form.french_ee.label }}</label>{{ form.french_ee }}</div>
        </div>
      </div>

      <!-- ANGLAIS -->
      <div class="rp-form-section">
        <h2 class="rp-section-title">Anglais</h2>

        <div class="rp-form-grid">
          <div><label>{{ form.english_exam.label }}</label>{{ form.english_exam }}</div>
          <div><label>{{ form.english_level.label }}</label>{{ form.english_level }}</div>
          <div><label>{{ form.english_co.label }}</label>{{ form.english_co }}</div>
          <div><label>{{ form.english_ce.label }}</label>{{ form.english_ce }}</div>
          <div><label>{{ form.english_eo.label }}</label>{{ form.english_eo }}</div>
          <div><label>{{ form.english_ee.label }}</label>{{ form.english_ee }}</div>
        </div>
      </div>

      <!-- AUTRES INFOS -->
      <div class="rp-form-section">
        <h2 class="rp-section-title">Autres informations</h2>

        <div class="rp-form-grid">
          <div><label>{{ form.profession_title.label }}</label>{{ form.profession_title }}</div>
          <div><label>{{ form.noc_code.label }}</label>{{ form.noc_code }}</div>
          <div><label>{{ form.anzsco_code.label }}</label>{{ form.anzsco_code }}</div>

          <div class="rp-checkbox-group">
            <label>{{ form.has_job_offer }} {{ form.has_job_offer.label }}</label>
            <label>{{ form.has_family_in_country }} {{ form.has_family_in_country.label }}</label>
          </div>
        </div>

        <div class="rp-textarea">
          <label>{{ form.notes.label }}</label>
          {{ form.notes }}
        </div>
      </div>

      <!-- CTA -->
      <div class="rp-form-footer">
        <p class="rp-muted">
          Tes données servent uniquement à générer ton diagnostic RP.
          Rien n’est partagé avec un tiers.
        </p>

        <button type="submit" class="rp-btn rp-btn--primary">
          Voir mon résultat RP →
        </button>
      </div>

    </form>
  </section>

</div>

{% endblock %}
