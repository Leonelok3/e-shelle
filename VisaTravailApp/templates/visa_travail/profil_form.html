{% extends "base.html" %}
{% load static %}

{% block body_class %}visa-travail{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/visa_travail.css' %}">
{% endblock %}

{% block content %}
<section class="vt-profile">

  <div class="container">

    <!-- ================= HEADER ================= -->
    <header class="vt-profile-header vt-fade-up">
      <span class="vt-badge">
        <i class="bi bi-funnel-fill"></i>
        Analyse de profil Visa Travail
      </span>

      <h1 class="vt-title">
        Construisons ton
        <span class="vt-gradient-primary">profil visa travail</span>
        international
      </h1>

      <p class="vt-subtle">
        Ces informations nous permettent d’identifier
        <strong>les pays, programmes et opportunités réellement accessibles</strong>
        selon ton profil, puis de générer
        <strong>un plan d’action clair, structuré et sécurisé</strong>
        pour travailler légalement à l’étranger.
      </p>
    </header>

    <!-- ================= CARD ================= -->
    <div class="vt-card vt-fade-up">

      <form method="post" novalidate>
        {% csrf_token %}

        <!-- ================= IDENTITÉ ================= -->
        <section class="vt-section">
          <header class="vt-section-header">
            <i class="bi bi-person-badge"></i>
            <h2>Identité du candidat</h2>
          </header>

          <div class="vt-grid">
            <div class="vt-field">
              <label>{{ form.nom.label }}</label>
              {{ form.nom }}
            </div>

            <div class="vt-field">
              <label>{{ form.email.label }}</label>
              {{ form.email }}
            </div>
          </div>
        </section>

        <!-- ================= SITUATION ================= -->
        <section class="vt-section">
          <header class="vt-section-header">
            <i class="bi bi-geo-alt"></i>
            <h2>Situation actuelle</h2>
          </header>

          <div class="vt-grid">
            <div class="vt-field">
              <label>{{ form.pays_residence.label }} *</label>
              {{ form.pays_residence }}
            </div>

            <div class="vt-field">
              <label>{{ form.domaine_metier.label }} *</label>
              {{ form.domaine_metier }}
            </div>
          </div>
        </section>

        <!-- ================= PAYS CIBLÉS ================= -->
        <section class="vt-section">
          <header class="vt-section-header">
            <i class="bi bi-flag"></i>
            <h2>Pays ciblés pour le visa travail</h2>
          </header>

          <div class="vt-field">
            {{ form.pays_cibles_select }}
          </div>
        </section>

        <!-- ================= FORMATION ================= -->
        <section class="vt-section">
          <header class="vt-section-header">
            <i class="bi bi-mortarboard"></i>
            <h2>Formation & expérience professionnelle</h2>
          </header>

          <div class="vt-grid">
            <div class="vt-field">
              <label>{{ form.niveau_etudes.label }} *</label>
              {{ form.niveau_etudes }}
            </div>

            <div class="vt-field">
              <label>{{ form.annees_experience.label }} *</label>
              {{ form.annees_experience }}
            </div>
          </div>
        </section>

        <!-- ================= LANGUES ================= -->
        <section class="vt-section">
          <header class="vt-section-header">
            <i class="bi bi-translate"></i>
            <h2>Niveaux de langue</h2>
          </header>

          <div class="vt-grid">
            <div class="vt-field">
              <label>{{ form.niveau_anglais.label }} *</label>
              {{ form.niveau_anglais }}
            </div>

            <div class="vt-field">
              <label>{{ form.niveau_langue_pays.label }} *</label>
              {{ form.niveau_langue_pays }}
            </div>
          </div>
        </section>

        <!-- ================= BUDGET ================= -->
        <section class="vt-section">
          <header class="vt-section-header">
            <i class="bi bi-cash-coin"></i>
            <h2>Budget & horizon de départ</h2>
          </header>

          <div class="vt-grid">
            <div class="vt-field">
              <label>{{ form.budget.label }} *</label>
              {{ form.budget }}
            </div>

            <div class="vt-field">
              <label>{{ form.horizon_depart.label }} *</label>
              {{ form.horizon_depart }}
            </div>
          </div>
        </section>

        {% if form.errors %}
          <div class="vt-alert-error">
            <i class="bi bi-exclamation-circle-fill"></i>
            Merci de corriger les champs signalés avant de continuer.
          </div>
        {% endif %}

        <div class="vt-submit">
          <button type="submit" class="vt-btn-primary">
            <i class="bi bi-search-heart"></i>
            Découvrir mes options de visa travail
          </button>
        </div>

      </form>

    </div>

  </div>
</section>
{% endblock %}
