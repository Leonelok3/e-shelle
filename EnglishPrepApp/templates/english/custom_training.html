{% extends "base.html" %}
{% load static %}

{% block title %}Entra√Ænement personnalis√© ‚Äì Immigration97{% endblock %}

{% block content %}
<main class="relative min-h-screen overflow-hidden bg-slate-950 text-slate-50">

  <!-- üåà BACKGROUND PREMIUM -->
  <div class="pointer-events-none absolute inset-0 -z-10 overflow-hidden">
    <div class="absolute -top-40 left-1/4 h-72 w-72 rounded-full bg-gradient-to-br from-emerald-500/18 via-blue-500/10 to-transparent blur-3xl"></div>
    <div class="absolute top-1/3 -right-32 h-80 w-80 rounded-full bg-gradient-to-br from-purple-600/18 via-blue-500/12 to-transparent blur-3xl"></div>
  </div>

  <section class="mx-auto max-w-7xl px-4 sm:px-6 py-10 lg:py-14">

    <!-- üî• HERO -->
    <header class="text-center mb-10 max-w-3xl mx-auto">
      <p class="text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400">
        IMMIGRATION97 ‚Ä¢ TRAINING MODE
      </p>

      <h1 class="mt-3 text-3xl sm:text-4xl lg:text-5xl font-light tracking-tight">
        <span class="bg-gradient-to-r from-emerald-300 via-blue-300 to-purple-300 bg-clip-text text-transparent">
          Entra√Ænement personnalis√©
        </span>
      </h1>

      <p class="mt-3 text-sm sm:text-base font-light text-slate-300 leading-relaxed">
        Travaille pr√©cis√©ment les comp√©tences √† am√©liorer.  
        R√©ponds aux questions, progresse √©tape par √©tape et gagne automatiquement de l‚ÄôXP.
      </p>
    </header>

    <!-- üß† LISTE D‚ÄôEXERCICES -->
    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      {% for exercise in exercises %}
        <article
          class="group relative rounded-2xl border border-slate-800/70
                 bg-gradient-to-br from-slate-900/90 via-slate-900/70 to-slate-800/60
                 p-5 backdrop-blur-xl shadow-xl shadow-black/40
                 transition-all duration-300 hover:border-emerald-400/40 hover:shadow-emerald-500/10">

          <!-- Effet flottant -->
          <div class="absolute -top-10 -right-10 h-28 w-28 rounded-full
                      bg-gradient-to-br from-emerald-500/20 to-transparent
                      blur-2xl opacity-40 transition-all duration-300
                      group-hover:opacity-70"></div>

          <div class="relative">
            <p class="text-xs font-semibold uppercase tracking-wide text-slate-400 mb-2">
              Question {{ forloop.counter }}
            </p>

            <h2 class="text-sm sm:text-base font-medium text-slate-50 leading-relaxed mb-4">
              {{ exercise.question_text }}
            </h2>

            <ul class="space-y-1.5 mb-5 text-xs sm:text-sm font-light text-slate-300">
              <li>‚Ä¢ {{ exercise.option_a }}</li>
              <li>‚Ä¢ {{ exercise.option_b }}</li>
              <li>‚Ä¢ {{ exercise.option_c }}</li>
              <li>‚Ä¢ {{ exercise.option_d }}</li>
            </ul>

            <a href="{% url 'englishprep:submit_training' exercise.id %}"
               class="inline-flex items-center justify-center rounded-full
                      bg-gradient-to-r from-emerald-400 to-emerald-500
                      px-5 py-2 text-xs sm:text-sm font-semibold text-slate-950
                      shadow-lg shadow-emerald-500/40
                      transition-transform hover:scale-[1.04]
                      focus-visible:outline-none focus-visible:ring-2
                      focus-visible:ring-emerald-400/80">
              ‚û°Ô∏è R√©pondre maintenant
            </a>
          </div>
        </article>
      {% endfor %}
    </div>

    <!-- MESSAGE SI AUCUN EXERCICE -->
    {% if exercises|length == 0 %}
      <div class="mt-12 text-center">
        <p class="text-slate-400 text-sm">
          Aucun exercice disponible pour le moment.  
          Reviens plus tard ou choisis un autre mode d‚Äôentra√Ænement.
        </p>
      </div>
    {% endif %}

  </section>
</main>
{% endblock %}
