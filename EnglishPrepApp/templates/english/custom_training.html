{% extends "base.html" %}
{% load static %}

{% block title %}Entra√Ænement personnalis√© ‚Äì Immigration97{% endblock %}

{% block content %}
<main class="relative min-h-screen overflow-hidden bg-slate-950 text-slate-50">

  {# üåà BACKGROUND PREMIUM #}
  <div class="pointer-events-none absolute inset-0 -z-10 overflow-hidden">
    <div class="absolute -top-40 -left-32 h-72 w-72 rounded-full bg-gradient-to-br from-emerald-500/20 via-blue-500/10 to-transparent blur-3xl opacity-70"></div>
    <div class="absolute top-1/3 -right-32 h-80 w-80 rounded-full bg-gradient-to-br from-purple-600/20 via-blue-500/15 to-transparent blur-3xl opacity-70"></div>
    <div class="absolute bottom-0 left-1/2 h-80 w-[420px] -translate-x-1/2 translate-y-1/3 rounded-full bg-gradient-to-t from-emerald-500/20 via-amber-500/20 to-transparent blur-3xl opacity-70"></div>
  </div>

  <section class="mx-auto max-w-6xl px-4 py-12 sm:px-6 lg:py-16">

    {# üî• HERO #}
    <header class="text-center mb-12">
      <p class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-400">
        IMMIGRATION97 ‚Ä¢ TRAINING MODE
      </p>

      <h1 class="mt-3 bg-gradient-to-r from-emerald-300 via-blue-300 to-purple-300 bg-clip-text text-transparent text-4xl font-light tracking-tight sm:text-5xl lg:text-6xl">
        Entra√Ænement <span class="text-slate-50/90">personnalis√©</span>
      </h1>

      <p class="mt-4 max-w-2xl mx-auto text-sm sm:text-base font-light text-slate-300 leading-relaxed">
        Travaille les comp√©tences o√π tu veux progresser. R√©ponds aux questions une par une,
        am√©liore ton score et gagne de l‚ÄôXP automatiquement.
      </p>
    </header>

    {# üß† LISTE D‚ÄôEXERCICES #}
    <div class="grid gap-6 md:grid-cols-2">
      {% for exercise in exercises %}
        <article class="group relative rounded-2xl border border-slate-800/70 bg-gradient-to-br
                        from-slate-900/90 via-slate-900/70 to-slate-800/60 
                        p-6 backdrop-blur-xl shadow-xl shadow-black/50
                        transition-all duration-500 hover:border-emerald-400/40 hover:shadow-emerald-500/10">

          {# EFFET FLOTTANT #}
          <div class="absolute -top-10 -right-10 h-32 w-32 rounded-full bg-gradient-to-br 
                      from-emerald-500/20 to-transparent blur-2xl opacity-50 transition-all duration-500
                      group-hover:opacity-80"></div>

          <div class="relative">
            <p class="text-sm font-semibold uppercase tracking-wide text-slate-400 mb-2">
              Question {{ forloop.counter }}
            </p>

            <h2 class="text-lg font-medium text-slate-50 leading-relaxed mb-4">
              {{ exercise.question_text }}
            </h2>

            <ul class="space-y-2 mb-6 text-sm font-light text-slate-300">
              <li>‚Ä¢ {{ exercise.option_a }}</li>
              <li>‚Ä¢ {{ exercise.option_b }}</li>
              <li>‚Ä¢ {{ exercise.option_c }}</li>
              <li>‚Ä¢ {{ exercise.option_d }}</li>
            </ul>

            <a href="{% url 'englishprep:submit_training' exercise.id %}"
               class="inline-flex items-center justify-center rounded-3xl
                      bg-gradient-to-r from-emerald-400 to-emerald-500
                      px-6 py-2.5 text-sm font-semibold text-slate-950
                      shadow-lg shadow-emerald-500/40 
                      transition-all duration-300 hover:scale-105 
                      focus-visible:outline-none focus-visible:ring-2 
                      focus-visible:ring-emerald-400/80 focus-visible:ring-offset-2 
                      focus-visible:ring-offset-slate-950">
              <span class="mr-1.5">‚û°Ô∏è</span>
              R√©pondre maintenant
            </a>
          </div>
        </article>
      {% endfor %}
    </div>

    {# MESSAGE SI AUCUN EXERCICE #}
    {% if exercises|length == 0 %}
      <div class="mt-12 text-center">
        <p class="text-slate-400 text-sm sm:text-base font-light">
          Aucun exercice pour le moment. Reviens plus tard ou choisis un autre mode d‚Äôentra√Ænement.
        </p>
      </div>
    {% endif %}

  </section>
</main>
{% endblock %}
