{% extends "base.html" %}

{% block title %}Examens d'anglais disponibles â€“ Immigration97{% endblock %}

{% block meta %}
<meta name="description"
      content="Choisis ton test dâ€™anglais (IELTS, TOEFL, TOEIC ou gÃ©nÃ©ral) et entraÃ®ne-toi en conditions rÃ©elles avec Immigration97." />
{% endblock %}

{% block content %}
<main class="relative min-h-screen overflow-hidden bg-slate-950 text-slate-50">

  <!-- ğŸŒˆ BACKGROUND -->
  <div class="pointer-events-none absolute inset-0 -z-10 overflow-hidden">
    <div class="absolute -top-40 -left-32 h-72 w-72 rounded-full bg-gradient-to-br from-blue-500/25 via-emerald-400/10 to-transparent blur-3xl opacity-60"></div>
    <div class="absolute top-1/3 -right-32 h-80 w-80 rounded-full bg-gradient-to-br from-purple-600/25 via-pink-500/10 to-transparent blur-3xl opacity-60"></div>
  </div>

  <div class="relative z-10 mx-auto max-w-7xl px-4 py-10 sm:px-6 lg:py-14">

    <!-- HEADER -->
    <header class="mb-10 border-b border-slate-800/70 pb-6">
      <p class="text-[0.7rem] font-semibold uppercase tracking-[0.22em] text-slate-400">
        PrÃ©paration dâ€™anglais â€¢ Immigration97
      </p>

      <h1 class="mt-3 bg-gradient-to-r from-blue-400 via-emerald-300 to-purple-400 bg-clip-text text-3xl font-light tracking-tight text-transparent sm:text-4xl">
        Examens dâ€™anglais disponibles
      </h1>

      <p class="mt-3 max-w-2xl text-sm text-slate-300">
        Choisis un examen et entraÃ®ne-toi avec des QCM rÃ©alistes,
        des corrections dÃ©taillÃ©es et un suivi prÃ©cis de ton score.
      </p>

      <div class="mt-5 flex flex-wrap gap-3">
        <a href="{% url 'englishprep:exam_hub' %}"
           class="rounded-3xl bg-gradient-to-r from-blue-400 to-emerald-400 px-5 py-2.5 text-sm font-semibold text-slate-950">
          ğŸŒ Hub IELTS / TOEFL / TOEIC
        </a>
        <a href="{% url 'englishprep:dashboard' %}"
           class="rounded-3xl border border-slate-700 bg-slate-900/70 px-5 py-2.5 text-sm text-slate-200">
          ğŸ  Tableau de bord
        </a>
      </div>
    </header>

    <!-- LISTE DES EXAMENS -->
    <section>

      {% if tests %}
        <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">

          {% for test in tests %}
            <article class="flex flex-col justify-between rounded-2xl border border-slate-800/80 bg-slate-900/80 p-6 shadow-xl transition hover:border-blue-400/50 hover:bg-slate-900">

              <!-- TAGS -->
              <div class="mb-3 flex flex-wrap gap-2 text-xs">
                <span class="rounded-full bg-blue-500/15 px-3 py-1 font-semibold text-blue-300">
                  {{ test.get_exam_type_display }}
                </span>
                <span class="rounded-full bg-slate-800 px-3 py-1 text-slate-300">
                  Niveau {{ test.level }}
                </span>
              </div>

              <!-- TITLE -->
              <h2 class="text-lg font-semibold text-slate-100">
                {{ test.name }}
              </h2>

              <!-- DESCRIPTION -->
              <p class="mt-2 text-sm text-slate-300">
                {{ test.description|default:"EntraÃ®nement ciblÃ© en conditions rÃ©elles." }}
              </p>

              <!-- META -->
              <p class="mt-3 text-xs text-slate-400">
                â± {{ test.duration_minutes }} minutes
              </p>

              <!-- ACTIONS -->
              <div class="mt-5 flex flex-wrap gap-3">
                <a href="{% url 'englishprep:take_test' test.id %}"
                   class="rounded-3xl bg-gradient-to-r from-blue-400 to-blue-500 px-4 py-2 text-sm font-semibold text-slate-950">
                  ğŸš€ Commencer le test
                </a>

                <a href="{% url 'englishprep:exam_learning_path' test.id %}"
                   class="rounded-3xl border border-slate-700 bg-slate-950/70 px-4 py-2 text-sm text-slate-200">
                  ğŸ“š Cours & exercices
                </a>
              </div>

            </article>
          {% endfor %}

        </div>
      {% else %}
        <div class="rounded-2xl border border-slate-800 bg-slate-900/70 p-8 text-center text-sm text-slate-300">
          Aucun test disponible pour le moment.
        </div>
      {% endif %}

    </section>

  </div>
</main>
{% endblock %}
