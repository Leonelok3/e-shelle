{% extends 'base.html' %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-slate-950 bg-gradient-to-br from-slate-950 via-slate-950 to-slate-900 px-4 py-12">
  <div class="w-full max-w-2xl bg-slate-900/90 backdrop-blur-xl rounded-3xl shadow-2xl shadow-emerald-900/40 border border-emerald-500/30 px-6 py-8 sm:px-10 sm:py-10">

    <!-- Header -->
    <div class="text-center mb-8">
      <p class="text-xs font-semibold tracking-[0.2em] uppercase text-emerald-300/80 mb-2">
        E-SHELLE â€¢ CRÃ‰ATION DE COMPTE
      </p>
      <h1 class="text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-emerald-400 via-cyan-300 to-sky-400 bg-clip-text text-transparent">
        ðŸš€ Rejoignez E-SHELLE
      </h1>
      <p class="text-sm sm:text-base font-medium text-slate-300 mt-3">
        ðŸŒŸ Ton futur sans limite commence ici
      </p>
    </div>

    <!-- Form -->
    <form method="post" action="{% url 'authentification:register' %}" class="space-y-6">
      {% csrf_token %}

      <div class="space-y-2">
        <label for="username" class="block text-sm font-medium text-slate-100">
          ðŸ‘¤ Nom d'utilisateur
        </label>
        <input type="text" name="username" id="username" placeholder="Votre nom d'utilisateur"
               value="{{ prefill.username|default:'' }}" required
               class="mt-1 block w-full rounded-xl border border-slate-700 bg-slate-950/60 px-4 py-3 text-slate-50 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 transition-shadow">
      </div>

      <div class="space-y-2">
        <label for="email" class="block text-sm font-medium text-slate-100">
          ðŸ“§ Email
        </label>
        <input type="email" name="email" id="email" placeholder="Votre adresse email"
               value="{{ prefill.email|default:'' }}" required
               class="mt-1 block w-full rounded-xl border border-slate-700 bg-slate-950/60 px-4 py-3 text-slate-50 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 transition-shadow">
      </div>

      <div class="space-y-2">
        <label for="password" class="block text-sm font-medium text-slate-100">
          ðŸ”’ Mot de passe
        </label>
        <input type="password" name="password" id="password" placeholder="Choisissez un mot de passe"
               required
               class="mt-1 block w-full rounded-xl border border-slate-700 bg-slate-950/60 px-4 py-3 text-slate-50 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 transition-shadow">
      </div>

      <div class="space-y-2">
        <label for="confirm_password" class="block text-sm font-medium text-slate-100">
          ðŸ”’ Confirmer le mot de passe
        </label>
        <input type="password" name="confirm_password" id="confirm_password" placeholder="Confirmez votre mot de passe"
               required
               class="mt-1 block w-full rounded-xl border border-slate-700 bg-slate-950/60 px-4 py-3 text-slate-50 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 transition-shadow">
      </div>

      <button type="submit"
              class="w-full inline-flex justify-center items-center px-6 py-3 rounded-xl bg-gradient-to-r from-emerald-500 via-emerald-400 to-cyan-400 text-slate-950 font-bold tracking-wide shadow-lg shadow-emerald-700/40 hover:shadow-emerald-500/50 hover:from-emerald-400 hover:via-emerald-300 hover:to-cyan-300 transition transform hover:-translate-y-[1px]">
        âœ… S'inscrire maintenant
      </button>
    </form>

    <!-- Footer -->
    <div class="mt-8 text-center text-xs sm:text-sm text-slate-300">
      <p>
        DÃ©jÃ  inscrit ?
        <a href="{% url 'authentification:login' %}"
           class="text-cyan-300 hover:text-cyan-200 font-semibold transition-colors">
          Connexion
        </a>
      </p>

      <form method="post" action="{% url 'authentification:logout' %}" class="mt-2">
        {% csrf_token %}
        <button type="submit"
                class="text-emerald-300 hover:text-emerald-200 font-semibold text-xs sm:text-sm transition-colors">
          Se dÃ©connecter
        </button>
      </form>
    </div>

    <!-- Messages -->
    {% if messages %}
      <div class="mt-6 space-y-2">
        {% for message in messages %}
          <div class="text-sm px-4 py-3 rounded-xl border shadow-sm
            {% if message.tags == 'success' %}
              bg-emerald-900/40 border-emerald-500/50 text-emerald-100
            {% elif message.tags == 'warning' %}
              bg-amber-900/40 border-amber-500/50 text-amber-100
            {% elif message.tags == 'error' %}
              bg-rose-900/40 border-rose-500/50 text-rose-100
            {% else %}
              bg-sky-900/40 border-sky-500/50 text-sky-100
            {% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}

  </div>
</div>
{% endblock %}
