{% extends 'base.html' %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12">
  <div class="w-full max-w-2xl bg-white rounded-2xl shadow-xl border border-orange-300 p-10">
    
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-4xl font-extrabold text-green-700">ğŸš€ Rejoignez E-SHELLE</h1>
      <p class="text-lg font-semibold text-orange-600 mt-2">ğŸŒŸ Ton Futur sans Limite commence ici</p>
    </div>

    <!-- Form -->
    <form method="post" action="{% url 'authentification:register' %}" class="space-y-6">
      {% csrf_token %}

      <div>
        <label for="username" class="block text-sm font-medium text-green-800">ğŸ‘¤ Nom d'utilisateur</label>
        <input type="text" name="username" id="username" placeholder="Votre nom d'utilisateur"
               value="{{ prefill.username|default:'' }}"
               required
               class="mt-1 block w-full rounded-lg border-gray-300 focus:ring-orange-500 focus:border-orange-500 px-4 py-3 text-gray-900">
      </div>

      <div>
        <label for="email" class="block text-sm font-medium text-green-800">ğŸ“§ Email</label>
        <input type="email" name="email" id="email" placeholder="Votre adresse email"
               value="{{ prefill.email|default:'' }}"
               required
               class="mt-1 block w-full rounded-lg border-gray-300 focus:ring-orange-500 focus:border-orange-500 px-4 py-3 text-gray-900">
      </div>

      <div>
        <label for="password" class="block text-sm font-medium text-green-800">ğŸ”’ Mot de passe</label>
        <input type="password" name="password" id="password" placeholder="Choisissez un mot de passe"
               required
               class="mt-1 block w-full rounded-lg border-gray-300 focus:ring-orange-500 focus:border-orange-500 px-4 py-3 text-gray-900">
      </div>

      <div>
        <label for="confirm_password" class="block text-sm font-medium text-green-800">ğŸ”’ Confirmer le mot de passe</label>
        <input type="password" name="confirm_password" id="confirm_password" placeholder="Confirmez votre mot de passe"
               required
               class="mt-1 block w-full rounded-lg border-gray-300 focus:ring-orange-500 focus:border-orange-500 px-4 py-3 text-gray-900">
      </div>

      <button type="submit"
              class="w-full inline-flex justify-center items-center px-6 py-3 rounded-lg bg-orange-600 text-white font-bold hover:bg-orange-500 transition">
        âœ… S'inscrire maintenant
      </button>
    </form>

    <!-- Footer -->
    <div class="mt-8 text-center text-sm text-gray-700">
      <p>DÃ©jÃ  inscrit ? <a href="{% url 'authentification:login' %}" class="text-orange-600 hover:text-orange-500 font-semibold">Connexion</a></p>
      <form method="post" action="{% url 'authentification:logout' %}" class="mt-2">
        {% csrf_token %}
        <button type="submit" class="text-green-600 hover:text-green-500 font-semibold">Se dÃ©connecter</button>
      </form>
    </div>

    <!-- Messages -->
    {% if messages %}
      <div class="mt-6 space-y-2">
        {% for message in messages %}
          <div class="text-sm px-4 py-3 rounded-lg border
                      {% if message.tags == 'success' %}bg-green-50 border-green-200 text-green-800
                      {% elif message.tags == 'warning' %}bg-yellow-50 border-yellow-200 text-yellow-800
                      {% elif message.tags == 'error' %}bg-red-50 border-red-200 text-red-800
                      {% else %}bg-orange-50 border-orange-200 text-orange-800{% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
